{"remainingRequest":"/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/src/views/sal/SalSob.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/src/views/sal/SalSob.vue","mtime":1625467519761},{"path":"/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUGVyRWMiLAogIGRhdGEoKXsKICAgIHJldHVybnsKICAgICAgbG9hZGluZzpmYWxzZSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGRpYWxvZ1RpdGxlOiAn5re75Yqg5bel6LWE6LSm5aWXJywKICAgICAgc2FsYXJpZXM6W10sCiAgICAgIGFjdGl2ZUl0ZW1JbmRleDogMCwKICAgICAgc2FsYXJ5OiB7CiAgICAgICAgYmFzaWNTYWxhcnk6IDAsCiAgICAgICAgdHJhZmZpY1NhbGFyeTogMCwKICAgICAgICBsdW5jaFNhbGFyeTogMCwKICAgICAgICBib251czogMCwKICAgICAgICBwZW5zaW9uUGVyOiAwLAogICAgICAgIHBlbnNpb25CYXNlOiAwLAogICAgICAgIG1lZGljYWxQZXI6IDAsCiAgICAgICAgbWVkaWNhbEJhc2U6IDAsCiAgICAgICAgYWNjdW11bGF0aW9uRnVuZFBlcjogMCwKICAgICAgICBhY2N1bXVsYXRpb25GdW5kQmFzZTogMCwKICAgICAgICBuYW1lOiAnJwogICAgICB9LAogICAgICBzYWxhcnlJdGVtTmFtZTogWwogICAgICAgICfln7rmnKzlt6XotYQnLAogICAgICAgICfkuqTpgJrooaXliqknLAogICAgICAgICfljYjppJDooaXliqknLAogICAgICAgICflpZbph5EnLAogICAgICAgICflhbvogIHph5Hmr5TnjocnLAogICAgICAgICflhbvogIHph5Hln7rmlbAnLAogICAgICAgICfljLvnlpfkv53pmanmr5TnjocnLAogICAgICAgICfljLvnlpfkv53pmanln7rmlbAnLAogICAgICAgICflhaznp6/ph5Hmr5TnjocnLAogICAgICAgICflhaznp6/ph5Hln7rmlbAnLAogICAgICAgICfotKblpZflkI3np7AnCiAgICAgIF0sCgoKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRTYWxhcmllcygpOwogIH0sCiAgbWV0aG9kczp7CiAgICBuZXh0U3RlcCgpIHsKICAgICAgaWYgKHRoaXMuYWN0aXZlSXRlbUluZGV4ID09IDEwKSB7CiAgICAgICAgaWYgKHRoaXMuc2FsYXJ5LmlkKSB7CiAgICAgICAgICB0aGlzLnB1dFJlcXVlc3QoIi9zYWxhcnkvc29iLyIsIHRoaXMuc2FsYXJ5KS50aGVuKHJlc3A9PnsKICAgICAgICAgICAgaWYgKHJlc3ApIHsKICAgICAgICAgICAgICB0aGlzLmluaXRTYWxhcmllcygpOwogICAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnBvc3RSZXF1ZXN0KCIvc2FsYXJ5L3NvYi8iLCB0aGlzLnNhbGFyeSkudGhlbihyZXNwID0+IHsKICAgICAgICAgICAgaWYgKHJlc3ApIHsKICAgICAgICAgICAgICB0aGlzLmluaXRTYWxhcmllcygpOwogICAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuYWN0aXZlSXRlbUluZGV4Kys7CiAgICB9LAogICAgcHJlU3RlcCgpIHsKICAgICAgaWYgKHRoaXMuYWN0aXZlSXRlbUluZGV4ID09IDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVJdGVtSW5kZXggPT0gMTApIHsKICAgICAgICAvL+WFs+mXreWvueivneahhgogICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLmFjdGl2ZUl0ZW1JbmRleC0tOwogICAgfSwKICAgIGRlbGV0ZVNhbGFyeShkYXRhKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuWIoOmZpOOAkCcgKyBkYXRhLm5hbWUgKyAn44CR6LSm5aWX77yM5piv5ZCm57un57ut77yfJywgJ+aPkOekuicsIHsKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy5kZWxldGVSZXF1ZXN0KCIvc2FsYXJ5L3NvYi8iICsgZGF0YS5pZCkudGhlbihyZXNwID0+IHsKICAgICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAgIHRoaXMuaW5pdFNhbGFyaWVzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbygi5Y+W5raI5Yig6ZmkISIpOwogICAgICB9KQogICAgfSwKICAgIHNob3dFZGl0U2FsYXJ5VmlldyhkYXRhKSB7CiAgICAgIHRoaXMuYWN0aXZlSXRlbUluZGV4ID0gMDsKICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9ICfkv67mlLnlt6XotYTotKblpZcnOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnNhbGFyeS5iYXNpY1NhbGFyeSA9IGRhdGEuYmFzaWNTYWxhcnk7CiAgICAgIHRoaXMuc2FsYXJ5LnRyYWZmaWNTYWxhcnkgPSBkYXRhLnRyYWZmaWNTYWxhcnk7CiAgICAgIHRoaXMuc2FsYXJ5Lmx1bmNoU2FsYXJ5ID0gZGF0YS5sdW5jaFNhbGFyeTsKICAgICAgdGhpcy5zYWxhcnkuYm9udXMgPSBkYXRhLmJvbnVzOwogICAgICB0aGlzLnNhbGFyeS5wZW5zaW9uUGVyID0gZGF0YS5wZW5zaW9uUGVyOwogICAgICB0aGlzLnNhbGFyeS5wZW5zaW9uQmFzZSA9IGRhdGEucGVuc2lvbkJhc2U7CiAgICAgIHRoaXMuc2FsYXJ5Lm1lZGljYWxQZXIgPSBkYXRhLm1lZGljYWxQZXI7CiAgICAgIHRoaXMuc2FsYXJ5Lm1lZGljYWxCYXNlID0gZGF0YS5tZWRpY2FsQmFzZTsKICAgICAgdGhpcy5zYWxhcnkuYWNjdW11bGF0aW9uRnVuZFBlciA9IGRhdGEuYWNjdW11bGF0aW9uRnVuZFBlcjsKICAgICAgdGhpcy5zYWxhcnkuYWNjdW11bGF0aW9uRnVuZEJhc2UgPSBkYXRhLmFjY3VtdWxhdGlvbkZ1bmRCYXNlOwogICAgICB0aGlzLnNhbGFyeS5uYW1lID0gZGF0YS5uYW1lOwogICAgICB0aGlzLnNhbGFyeS5pZCA9IGRhdGEuaWQ7CiAgICB9LAogICAgc2hvd0FkZFNhbGFyeVZpZXcoKXsKICAgICAgLy/mlbDmja7liJ3lp4vljJYKICAgICAgdGhpcy5zYWxhcnkgPSB7CiAgICAgICAgYmFzaWNTYWxhcnk6IDAsCiAgICAgICAgdHJhZmZpY1NhbGFyeTogMCwKICAgICAgICBsdW5jaFNhbGFyeTogMCwKICAgICAgICBib251czogMCwKICAgICAgICBwZW5zaW9uUGVyOiAwLAogICAgICAgIHBlbnNpb25CYXNlOiAwLAogICAgICAgIG1lZGljYWxQZXI6IDAsCiAgICAgICAgbWVkaWNhbEJhc2U6IDAsCiAgICAgICAgYWNjdW11bGF0aW9uRnVuZFBlcjogMCwKICAgICAgICBhY2N1bXVsYXRpb25GdW5kQmFzZTogMCwKICAgICAgICBuYW1lOiAn6buY6K6k5ZCN56ewJwogICAgICB9CiAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAn5re75Yqg5bel6LWE6LSm5aWXJzsKICAgICAgdGhpcy5hY3RpdmVJdGVtSW5kZXggPSAwOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGluaXRTYWxhcmllcygpewogICAgICB0aGlzLmxvYWRpbmc9dHJ1ZQogICAgICB0aGlzLmdldFJlcXVlc3QoIi9zYWxhcnkvc29iLyIpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgaWYgKHJlc3ApIHsKICAgICAgICAgIHRoaXMubG9hZGluZz1mYWxzZTsKICAgICAgICAgIHRoaXMuc2FsYXJpZXMgPSByZXNwOwogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["SalSob.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SalSob.vue","sourceRoot":"src/views/sal","sourcesContent":["<template>\n  <div>\n    <div style=\"display: flex;justify-content: space-between\">\n      <el-button icon=\"el-icon-plus\" type=\"primary\" @click=\"showAddSalaryView\">添加工资账套</el-button>\n      <el-button icon=\"el-icon-refresh\" type=\"success\" @click=\"initSalaries\">刷新</el-button>\n    </div>\n    <div style=\"margin-top: 10px\">\n      <el-table :data=\"salaries\" border stripe\n                v-loading=\"loading\"\n                element-loading-text=\"正在加载...\"\n                element-loading-spinner=\"el-icon-loading\"\n                element-loading-background=\"rgba(0, 0, 0, 0.8)\">\n        <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n        <el-table-column width=\"120\" prop=\"name\" label=\"账套名称\"></el-table-column>\n        <el-table-column width=\"70\" prop=\"basicSalary\" label=\"基本工资\"></el-table-column>\n        <el-table-column width=\"70\" prop=\"trafficSalary\" label=\"交通补助\"></el-table-column>\n        <el-table-column width=\"70\" prop=\"lunchSalary\" label=\"午餐补助\"></el-table-column>\n        <el-table-column width=\"70\" prop=\"bonus\" label=\"奖金\"></el-table-column>\n        <el-table-column width=\"100\" prop=\"createDate\" label=\"启用时间\"></el-table-column>\n        <el-table-column label=\"养老金\" align=\"center\">\n          <el-table-column width=\"70\" prop=\"pensionPer\" label=\"比率\"></el-table-column>\n          <el-table-column width=\"70\" prop=\"pensionBase\" label=\"基数\"></el-table-column>\n        </el-table-column>\n        <el-table-column label=\"医疗保险\" align=\"center\">\n          <el-table-column width=\"70\" prop=\"medicalPer\" label=\"比率\"></el-table-column>\n          <el-table-column width=\"70\" prop=\"medicalBase\" label=\"基数\"></el-table-column>\n        </el-table-column>\n        <el-table-column label=\"公积金\" align=\"center\">\n          <el-table-column width=\"70\" prop=\"accumulationFundPer\" label=\"比率\"></el-table-column>\n          <el-table-column width=\"70\" prop=\"accumulationFundBase\" label=\"基数\"></el-table-column>\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button @click=\"showEditSalaryView(scope.row)\">编辑</el-button>\n            <el-button type=\"danger\" @click=\"deleteSalary(scope.row)\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <el-dialog\n          :title=\"dialogTitle\"\n          :visible.sync=\"dialogVisible\"\n          width=\"50%\">\n        <div style=\"display: flex;justify-content: space-around;align-items: center\">\n          <el-steps direction=\"vertical\" :active=\"activeItemIndex\">\n            <el-step :title=\"itemName\" v-for=\"(itemName,index) in salaryItemName\" :key=\"index\"></el-step>\n          </el-steps>\n          <el-input v-model=\"salary[title]\" :placeholder=\"'请输入'+salaryItemName[index]+'...'\"\n                    v-for=\"(value,title,index) in salary\"\n                    :key=\"index\" v-show=\"activeItemIndex==index\" style=\"width: 200px\"></el-input>\n        </div>\n        <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"preStep\">{{activeItemIndex==10?'取消':'上一步'}}</el-button>\n            <el-button type=\"primary\" @click=\"nextStep\">{{activeItemIndex==10?'完成':'下一步'}}</el-button>\n\t\t\t  </span>\n      </el-dialog>\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"PerEc\",\n  data(){\n    return{\n      loading:false,\n      dialogVisible: false,\n      dialogTitle: '添加工资账套',\n      salaries:[],\n      activeItemIndex: 0,\n      salary: {\n        basicSalary: 0,\n        trafficSalary: 0,\n        lunchSalary: 0,\n        bonus: 0,\n        pensionPer: 0,\n        pensionBase: 0,\n        medicalPer: 0,\n        medicalBase: 0,\n        accumulationFundPer: 0,\n        accumulationFundBase: 0,\n        name: ''\n      },\n      salaryItemName: [\n        '基本工资',\n        '交通补助',\n        '午餐补助',\n        '奖金',\n        '养老金比率',\n        '养老金基数',\n        '医疗保险比率',\n        '医疗保险基数',\n        '公积金比率',\n        '公积金基数',\n        '账套名称'\n      ],\n\n\n    }\n  },\n  mounted() {\n    this.initSalaries();\n  },\n  methods:{\n    nextStep() {\n      if (this.activeItemIndex == 10) {\n        if (this.salary.id) {\n          this.putRequest(\"/salary/sob/\", this.salary).then(resp=>{\n            if (resp) {\n              this.initSalaries();\n              this.dialogVisible = false;\n            }\n          })\n        } else {\n          this.postRequest(\"/salary/sob/\", this.salary).then(resp => {\n            if (resp) {\n              this.initSalaries();\n              this.dialogVisible = false;\n            }\n          });\n        }\n        return;\n      }\n      this.activeItemIndex++;\n    },\n    preStep() {\n      if (this.activeItemIndex == 0) {\n        return;\n      } else if (this.activeItemIndex == 10) {\n        //关闭对话框\n        this.dialogVisible = false;\n        return;\n      }\n      this.activeItemIndex--;\n    },\n    deleteSalary(data) {\n      this.$confirm('此操作将删除【' + data.name + '】账套，是否继续？', '提示', {\n        cancelButtonText: '取消',\n        confirmButtonText: '确定'\n      }).then(() => {\n        this.deleteRequest(\"/salary/sob/\" + data.id).then(resp => {\n          if (resp) {\n            this.initSalaries();\n          }\n        })\n      }).catch(() => {\n        this.$message.info(\"取消删除!\");\n      })\n    },\n    showEditSalaryView(data) {\n      this.activeItemIndex = 0;\n      this.dialogTitle = '修改工资账套';\n      this.dialogVisible = true;\n      this.salary.basicSalary = data.basicSalary;\n      this.salary.trafficSalary = data.trafficSalary;\n      this.salary.lunchSalary = data.lunchSalary;\n      this.salary.bonus = data.bonus;\n      this.salary.pensionPer = data.pensionPer;\n      this.salary.pensionBase = data.pensionBase;\n      this.salary.medicalPer = data.medicalPer;\n      this.salary.medicalBase = data.medicalBase;\n      this.salary.accumulationFundPer = data.accumulationFundPer;\n      this.salary.accumulationFundBase = data.accumulationFundBase;\n      this.salary.name = data.name;\n      this.salary.id = data.id;\n    },\n    showAddSalaryView(){\n      //数据初始化\n      this.salary = {\n        basicSalary: 0,\n        trafficSalary: 0,\n        lunchSalary: 0,\n        bonus: 0,\n        pensionPer: 0,\n        pensionBase: 0,\n        medicalPer: 0,\n        medicalBase: 0,\n        accumulationFundPer: 0,\n        accumulationFundBase: 0,\n        name: '默认名称'\n      }\n      this.dialogTitle = '添加工资账套';\n      this.activeItemIndex = 0;\n      this.dialogVisible = true;\n    },\n    initSalaries(){\n      this.loading=true\n      this.getRequest(\"/salary/sob/\").then(resp => {\n        if (resp) {\n          this.loading=false;\n          this.salaries = resp;\n        }\n      })\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}