{"remainingRequest":"/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/src/components/sys/basic/JobLevelMana.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/src/components/sys/basic/JobLevelMana.vue","mtime":1625467519759},{"path":"/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSm9iTGV2ZWxNYW5hIiwKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgIHRpdGxlTGV2ZWxzOiBbCiAgICAgICAgJ+ato+mrmOe6pycsCiAgICAgICAgJ+WJr+mrmOe6pycsCiAgICAgICAgJ+S4ree6pycsCiAgICAgICAgJ+WInee6pycsCiAgICAgICAgJ+WRmOe6pycsCiAgICAgIF0sCiAgICAgIGpsOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgdGl0bGVMZXZlbDogJycKICAgICAgfSwKICAgICAgdXBkYXRlSmw6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICB0aXRsZUxldmVsOiAnJywKICAgICAgICBlbmFibGVkOiBmYWxzZQogICAgICB9LAogICAgICBtdWx0aXBsZVNlbGVjdGlvbjpbXSwKICAgICAgamxzOiBbXSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5pbml0SmxzKCk7CiAgfSwKICBtZXRob2RzOnsKICAgIGRvVXBkYXRlKCkgewogICAgICB0aGlzLnB1dFJlcXVlc3QoIi9zeXN0ZW0vYmFzaWMvam9ibGV2ZWwvIiwgdGhpcy51cGRhdGVKbCkudGhlbihyZXNwID0+IHsKICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgdGhpcy5pbml0SmxzKCk7CiAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgZGVsZXRlTWFueSgpewogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTjgJAnICsgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5sZW5ndGggKyAn44CR5p2h6K6w5b2VLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIGxldCBpZHMgPSAnPyc7CiAgICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgaWRzICs9ICdpZHM9JyArIGl0ZW0uaWQgKyAnJic7CiAgICAgICAgfSkKICAgICAgICB0aGlzLmRlbGV0ZVJlcXVlc3QoIi9zeXN0ZW0vYmFzaWMvam9ibGV2ZWwvIiArIGlkcykudGhlbihyZXNwID0+IHsKICAgICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAgIHRoaXMuaW5pdEpscygpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpewogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gdmFsOwogICAgfSwKICAgIHNob3dFZGl0VmlldyhkYXRhKSB7CiAgICAgIE9iamVjdC5hc3NpZ24odGhpcy51cGRhdGVKbCwgZGF0YSk7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgZGVsZXRlSGFuZGxlcihkYXRhKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heOAkCcgKyBkYXRhLm5hbWUgKyAn44CR6IGM56ewLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuZGVsZXRlUmVxdWVzdCgiL3N5c3RlbS9iYXNpYy9qb2JsZXZlbC8iICsgZGF0YS5pZCkudGhlbihyZXNwID0+IHsKICAgICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAgIHRoaXMuaW5pdEpscygpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGluaXRKbHMoKXsKICAgICAgdGhpcy5nZXRSZXF1ZXN0KCIvc3lzdGVtL2Jhc2ljL2pvYmxldmVsLyIpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgaWYgKHJlc3ApIHsKICAgICAgICAgIHRoaXMuamxzID0gcmVzcDsKICAgICAgICAgIHRoaXMuamwgPSB7CiAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICB0aXRsZUxldmVsOiAnJwogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgYWRkSm9iTGV2ZWwoKXsKICAgICAgaWYgKHRoaXMuamwubmFtZSAmJiB0aGlzLmpsLnRpdGxlTGV2ZWwpIHsKICAgICAgICB0aGlzLnBvc3RSZXF1ZXN0KCIvc3lzdGVtL2Jhc2ljL2pvYmxldmVsLyIsIHRoaXMuamwpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgICB0aGlzLmluaXRKbHMoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmt7vliqDlrZfmrrXkuI3lj6/ku6XkuLrnqbohIik7CiAgICAgIH0KICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["JobLevelMana.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"JobLevelMana.vue","sourceRoot":"src/components/sys/basic","sourcesContent":["<template>\n<div>\n  <div>\n    <el-input size=\"small\" v-model=\"jl.name\" style=\"width: 300px;\" prefix-icon=\"el-icon-plus\"\n              placeholder=\"添加职称...\"></el-input>\n    <el-select v-model=\"jl.titleLevel\" placeholder=\"职称等级\" size=\"small\"\n               style=\"margin-left: 5px;margin-right: 5px\">\n      <el-option\n          v-for=\"item in titleLevels\"\n          :key=\"item\"\n          :label=\"item\"\n          :value=\"item\">\n      </el-option>\n    </el-select>\n    <el-button icon=\"el-icon-plus\" type=\"primary\" size=\"small\" @click=\"addJobLevel\">添加</el-button>\n  </div >\n\n  <div style=\"margin-top: 10px\">\n    <el-table\n        :data=\"jls\"\n        border\n        size=\"small\"\n        @selection-change=\"handleSelectionChange\"\n        style=\"width: 80%\">\n      <el-table-column\n          type=\"selection\"\n          width=\"55\">\n      </el-table-column>\n      <el-table-column\n          prop=\"id\"\n          label=\"编号\"\n          width=\"55\">\n      </el-table-column>\n      <el-table-column\n          prop=\"name\"\n          label=\"职称名称\"\n          width=\"150\">\n      </el-table-column>\n      <el-table-column\n          prop=\"titleLevel\"\n          label=\"职称级别\">\n      </el-table-column>\n      <el-table-column\n          prop=\"createDate\"\n          label=\"创建时间\">\n      </el-table-column>\n      <el-table-column\n          label=\"是否启用\">\n        <template slot-scope=\"scope\">\n          <el-tag type=\"success\" v-if=\"scope.row.enabled\">已启用</el-tag>\n          <el-tag type=\"danger\" v-else>未启用</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column\n          label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"small\" @click=\"showEditView(scope.row)\">编辑</el-button>\n          <el-button size=\"small\" type=\"danger\" @click=\"deleteHandler(scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-button type=\"danger\" size=\"small\" style=\"margin-top: 10px\" :disabled=\"multipleSelection.length==0\"\n               @click=\"deleteMany\">批量删除\n    </el-button>\n  </div>\n  <el-dialog\n      title=\"修改职称\"\n      :visible.sync=\"dialogVisible\"\n      width=\"30%\">\n    <div>\n      <table>\n        <tr>\n          <td>\n            <el-tag>职称名</el-tag>\n          </td>\n          <td>\n            <el-input size=\"small\" v-model=\"updateJl.name\"></el-input>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <el-tag>职称级别</el-tag>\n          </td>\n          <td>\n            <el-select v-model=\"updateJl.titleLevel\" placeholder=\"职称等级\" size=\"small\"\n                       style=\"margin-left: 5px;margin-right: 5px\">\n              <el-option\n                  v-for=\"item in titleLevels\"\n                  :key=\"item\"\n                  :label=\"item\"\n                  :value=\"item\">\n              </el-option>\n            </el-select>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <el-tag>是否启用</el-tag>\n          </td>\n          <td>\n            <el-switch\n                v-model=\"updateJl.enabled\"\n                active-text=\"启用\"\n                inactive-text=\"禁用\">\n            </el-switch>\n          </td>\n        </tr>\n      </table>\n    </div>\n    <span slot=\"footer\" class=\"dialog-footer\">\n    <el-button size=\"small\" @click=\"dialogVisible = false\">取 消</el-button>\n    <el-button size=\"small\" type=\"primary\" @click=\"doUpdate\">确 定</el-button>\n    </span>\n  </el-dialog>\n</div>\n</template>\n\n<script>\nexport default {\n  name: \"JobLevelMana\",\n  data(){\n    return{\n      titleLevels: [\n        '正高级',\n        '副高级',\n        '中级',\n        '初级',\n        '员级',\n      ],\n      jl: {\n        name: '',\n        titleLevel: ''\n      },\n      updateJl: {\n        name: '',\n        titleLevel: '',\n        enabled: false\n      },\n      multipleSelection:[],\n      jls: [],\n      dialogVisible: false,\n    }\n  },\n  mounted() {\n    this.initJls();\n  },\n  methods:{\n    doUpdate() {\n      this.putRequest(\"/system/basic/joblevel/\", this.updateJl).then(resp => {\n        if (resp) {\n          this.initJls();\n          this.dialogVisible = false;\n        }\n      })\n    },\n    deleteMany(){\n      this.$confirm('此操作将永久删除【' + this.multipleSelection.length + '】条记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        let ids = '?';\n        this.multipleSelection.forEach(item => {\n          ids += 'ids=' + item.id + '&';\n        })\n        this.deleteRequest(\"/system/basic/joblevel/\" + ids).then(resp => {\n          if (resp) {\n            this.initJls();\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    handleSelectionChange(val){\n      this.multipleSelection = val;\n    },\n    showEditView(data) {\n      Object.assign(this.updateJl, data);\n      this.dialogVisible = true;\n    },\n    deleteHandler(data) {\n      this.$confirm('此操作将永久【' + data.name + '】职称, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.deleteRequest(\"/system/basic/joblevel/\" + data.id).then(resp => {\n          if (resp) {\n            this.initJls();\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    initJls(){\n      this.getRequest(\"/system/basic/joblevel/\").then(resp => {\n        if (resp) {\n          this.jls = resp;\n          this.jl = {\n            name: '',\n            titleLevel: ''\n          };\n        }\n      })\n    },\n    addJobLevel(){\n      if (this.jl.name && this.jl.titleLevel) {\n        this.postRequest(\"/system/basic/joblevel/\", this.jl).then(resp => {\n          if (resp) {\n            this.initJls();\n          }\n        });\n      } else {\n        this.$message.error(\"添加字段不可以为空!\");\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}