{"remainingRequest":"C:\\Users\\15041\\Desktop\\MicroHR\\vuehr\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\15041\\Desktop\\MicroHR\\vuehr\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\15041\\Desktop\\MicroHR\\vuehr\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\15041\\Desktop\\MicroHR\\vuehr\\src\\components\\sys\\basic\\DepMana.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\15041\\Desktop\\MicroHR\\vuehr\\src\\components\\sys\\basic\\DepMana.vue","mtime":1608452819073},{"path":"C:\\Users\\15041\\Desktop\\MicroHR\\vuehr\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\15041\\Desktop\\MicroHR\\vuehr\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\15041\\Desktop\\MicroHR\\vuehr\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\15041\\Desktop\\MicroHR\\vuehr\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJEZXBNYW5hIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGZpbHRlclRleHQ6ICcnLAogICAgICBkZXA6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBwYXJlbnRJZDogLTEKICAgICAgfSwKICAgICAgcG5hbWU6ICcnLAogICAgICBkZXBzOiBbXSwKICAgICAgZGVmYXVsdFByb3BzOiB7CiAgICAgICAgY2hpbGRyZW46ICdjaGlsZHJlbicsCiAgICAgICAgbGFiZWw6ICduYW1lJwogICAgICB9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdERlcHMoKTsKICB9LAogIHdhdGNoOiB7CiAgICAvKuW9k+aQnOe0ouahhuS4rWZpbHRlclRleHTnmoTlgLzlj5HnlJ/lj5jljJbnmoTml7blgJnvvIzlsLHkvJrop6blj5HkuIvpnaLnmoTmlrnms5UqLwogICAgZmlsdGVyVGV4dDogZnVuY3Rpb24gZmlsdGVyVGV4dCh2YWwpIHsKICAgICAgdGhpcy4kcmVmcy50cmVlLmZpbHRlcih2YWwpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLyrmr4/mrKHmt7vliqDlrozlsLHmiormoYbkuK3mlbDmja7muIXnqboqLwogICAgaW5pdERlcDogZnVuY3Rpb24gaW5pdERlcCgpIHsKICAgICAgdGhpcy5kZXAgPSB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgcGFyZW50SWQ6IC0xCiAgICAgIH07CiAgICAgIHRoaXMucG5hbWUgPSAnJzsKICAgIH0sCiAgICBhZGREZXBUb0RlcHM6IGZ1bmN0aW9uIGFkZERlcFRvRGVwcyhkZXBzLCBkZXApIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXBzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGQgPSBkZXBzW2ldOwoKICAgICAgICBpZiAoZC5pZCA9PSBkZXAucGFyZW50SWQpIHsKICAgICAgICAgIGQuY2hpbGRyZW4gPSBkLmNoaWxkcmVuLmNvbmNhdChkZXApOwoKICAgICAgICAgIGlmIChkLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgZC5wYXJlbnQgPSB0cnVlOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5hZGREZXBUb0RlcHMoZC5jaGlsZHJlbiwgZGVwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBkb0FkZERlcDogZnVuY3Rpb24gZG9BZGREZXAoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnBvc3RSZXF1ZXN0KCIvc3lzdGVtL2Jhc2ljL2RlcGFydG1lbnQvIiwgdGhpcy5kZXApLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgLyrliqjmgIHlnLDlvoB0cmVl5Lit5re75Yqg5LiA5Liq5pWw5o2u77yM5re75Yqg5a6M5pW05LiqdHJlZeS4jeeUqOaUtui1t+adpSovCiAgICAgICAgICBfdGhpcy5hZGREZXBUb0RlcHMoX3RoaXMuZGVwcywgcmVzcC5vYmopOwoKICAgICAgICAgIF90aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsgLy/liJ3lp4vljJblj5jph4/vvIzkvb/lr7nor53moYZpbnB1dOahhumHjOmdouaVsOaNruS4uuepugoKICAgICAgICAgIF90aGlzLmluaXREZXAoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlbW92ZURlcEZyb21EZXBzOiBmdW5jdGlvbiByZW1vdmVEZXBGcm9tRGVwcyhwLCBkZXBzLCBpZCkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlcHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgZCA9IGRlcHNbaV07CgogICAgICAgIGlmIChkLmlkID09IGlkKSB7CiAgICAgICAgICBkZXBzLnNwbGljZShpLCAxKTsKCiAgICAgICAgICBpZiAoZGVwcy5sZW5ndGggPT0gMCkgewogICAgICAgICAgICBwLnBhcmVudCA9IGZhbHNlOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5yZW1vdmVEZXBGcm9tRGVwcyhkLCBkLmNoaWxkcmVuLCBpZCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZGVsZXRlRGVwOiBmdW5jdGlvbiBkZWxldGVEZXAoZGF0YSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmIChkYXRhLnBhcmVudCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIueItumDqOmXqOWIoOmZpOWksei0pSIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOOAkCcgKyBkYXRhLm5hbWUgKyAn44CR6YOo6ZeoLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuZGVsZXRlUmVxdWVzdCgiL3N5c3RlbS9iYXNpYy9kZXBhcnRtZW50LyIgKyBkYXRhLmlkKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAgICAgX3RoaXMyLnJlbW92ZURlcEZyb21EZXBzKG51bGwsIF90aGlzMi5kZXBzLCBkYXRhLmlkKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzaG93QWRkRGVwVmlldzogZnVuY3Rpb24gc2hvd0FkZERlcFZpZXcoZGF0YSkgewogICAgICB0aGlzLnBuYW1lID0gZGF0YS5uYW1lOwogICAgICB0aGlzLmRlcC5wYXJlbnRJZCA9IGRhdGEuaWQ7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAoKICAgIC8qZGF0YeWwseaYr+WtmOeahOS4gOadoeadoeeahGpzb27lr7nosaHvvIx2YWx1ZeWwseaYr+aQnOe0ouahhueahOWGheWuuSovCiAgICBmaWx0ZXJOb2RlOiBmdW5jdGlvbiBmaWx0ZXJOb2RlKHZhbHVlLCBkYXRhKSB7CiAgICAgIGlmICghdmFsdWUpIHJldHVybiB0cnVlOwogICAgICByZXR1cm4gZGF0YS5uYW1lLmluZGV4T2YodmFsdWUpICE9PSAtMTsKICAgIH0sCiAgICBpbml0RGVwczogZnVuY3Rpb24gaW5pdERlcHMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5nZXRSZXF1ZXN0KCIvc3lzdGVtL2Jhc2ljL2RlcGFydG1lbnQvIikudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICBfdGhpczMuZGVwcyA9IHJlc3A7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["DepMana.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div style=\"width: 500px;\">\r\n      <el-input\r\n          placeholder=\"请输入部门名称进行搜索...\"\r\n          prefix-icon=\"el-icon-search\"\r\n          v-model=\"filterText\">\r\n      </el-input>\r\n\r\n<!--    :expand-on-click-node=\"false\"表示在添加部门或者删除部门的时候不会展开tree-->\r\n    <el-tree\r\n              style=\"margin-top: 10px\"\r\n              :data=\"deps\"\r\n              :props=\"defaultProps\"\r\n              :expand-on-click-node=\"false\"\r\n              :filter-node-method=\"filterNode\"\r\n              ref=\"tree\">\r\n      <span class=\"custom-tree-node\" style=\"display: flex;justify-content: space-between;width: 100%;\"\r\n          slot-scope=\"{ node, data }\">\r\n          <span>{{data.name }}</span>\r\n           <span>\r\n              <el-button\r\n                  type=\"primary\"\r\n                  size=\"mini\"\r\n                  class=\"depBtn\"\r\n                  @click=\"() => showAddDepView(data)\">\r\n                添加部门\r\n              </el-button>\r\n              <el-button\r\n                  type=\"danger\"\r\n                  size=\"mini\"\r\n                  class=\"depBtn\"\r\n                  @click=\"() => deleteDep(data)\">\r\n                删除部门\r\n              </el-button>\r\n          </span>\r\n      </span>\r\n    </el-tree>\r\n<!--    添加对话框-->\r\n    <el-dialog\r\n        title=\"添加部门\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"30%\">\r\n      <div>\r\n        <table>\r\n          <tr>\r\n            <td>\r\n              <el-tag>上级部门</el-tag>\r\n            </td>\r\n            <td>{{pname}}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <el-tag>部门名称</el-tag>\r\n            </td>\r\n            <td>\r\n              <el-input v-model=\"dep.name\" placeholder=\"请输入部门名称...\"></el-input>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"doAddDep\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \"DepMana\",\r\n  data(){\r\n    return {\r\n      dialogVisible: false,\r\n      filterText: '',\r\n      dep: {\r\n        name: '',\r\n        parentId: -1\r\n      },\r\n      pname: '',\r\n      deps: [],\r\n      defaultProps: {\r\n        children: 'children',\r\n        label: 'name'\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initDeps();\r\n  },\r\n  watch:{\r\n    /*当搜索框中filterText的值发生变化的时候，就会触发下面的方法*/\r\n    filterText(val){\r\n      this.$refs.tree.filter(val);\r\n    }\r\n  },\r\n  methods:{\r\n    /*每次添加完就把框中数据清空*/\r\n    initDep() {\r\n      this.dep = {\r\n        name: '',\r\n        parentId: -1\r\n      }\r\n      this.pname = '';\r\n    },\r\n    addDepToDeps(deps, dep) {\r\n      for (let i = 0; i < deps.length; i++) {\r\n        let d = deps[i];\r\n        if (d.id == dep.parentId) {\r\n          d.children = d.children.concat(dep);\r\n          if (d.children.length > 0) {\r\n            d.parent = true;\r\n          }\r\n          return;\r\n        } else {\r\n          this.addDepToDeps(d.children, dep);\r\n        }\r\n      }\r\n    },\r\n    doAddDep() {\r\n      this.postRequest(\"/system/basic/department/\", this.dep).then(resp => {\r\n        if (resp) {\r\n          /*动态地往tree中添加一个数据，添加完整个tree不用收起来*/\r\n          this.addDepToDeps(this.deps, resp.obj);\r\n          this.dialogVisible = false;\r\n\r\n          //初始化变量，使对话框input框里面数据为空\r\n          this.initDep();\r\n        }\r\n      })\r\n    },\r\n    removeDepFromDeps(p,deps, id) {\r\n      for(let i=0;i<deps.length;i++){\r\n        let d = deps[i];\r\n        if (d.id == id) {\r\n          deps.splice(i, 1);\r\n          if (deps.length == 0) {\r\n            p.parent = false;\r\n          }\r\n          return;\r\n        }else{\r\n          this.removeDepFromDeps(d,d.children, id);\r\n        }\r\n      }\r\n    },\r\n    deleteDep(data) {\r\n      if (data.parent) {\r\n        this.$message.error(\"父部门删除失败\");\r\n      } else {\r\n        this.$confirm('此操作将永久删除【' + data.name + '】部门, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.deleteRequest(\"/system/basic/department/\"+data.id).then(resp=>{\r\n            if (resp) {\r\n              this.removeDepFromDeps(null,this.deps,data.id);\r\n            }\r\n          })\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          });\r\n        });\r\n      }\r\n    },\r\n    showAddDepView(data) {\r\n      this.pname = data.name;\r\n      this.dep.parentId = data.id;\r\n      this.dialogVisible = true;\r\n    },\r\n    /*data就是存的一条条的json对象，value就是搜索框的内容*/\r\n    filterNode(value, data) {\r\n      if (!value) return true;\r\n      return data.name.indexOf(value) !== -1;\r\n    },\r\n    initDeps(){\r\n      this.getRequest(\"/system/basic/department/\").then(resp => {\r\n        if(resp){\r\n          this.deps = resp;\r\n        }\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.depBtn {\r\n  padding: 2px;\r\n}\r\n</style>"],"sourceRoot":"src/components/sys/basic"}]}