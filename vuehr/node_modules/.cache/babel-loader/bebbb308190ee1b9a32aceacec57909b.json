{"remainingRequest":"D:\\vuehr\\node_modules\\babel-loader\\lib\\index.js!D:\\vuehr\\src\\utils\\api.js","dependencies":[{"path":"D:\\vuehr\\src\\utils\\api.js","mtime":1607794040890},{"path":"D:\\vuehr\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vuehr\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKLyrljZXni6zlvJXnlKhlbGVtZW50LXVp5Lit55qETWVzc2FnZe+8iOingWVsZW1lbnQtdWnlrpjnvZHvvIzlj4rlhbbnlKjms5XvvIkqLwoKaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlcic7IC8vYXhpb3PkuK3nmoTlk43lupTmi6bmiKrlmajvvIxzdWNjZXNz5ZKMZXJyb3LmmK/mnI3liqHnq6/lk43lupTnmoTmlbDmja4KCi8qc3VjY2Vzc+S4jeaYr+acjeWKoeerr+i/lOWbnueahOaVsOaNru+8jHN1Y2Nlc3MuZGF0YeaJjeaYr+acjeWKoeerr+i/lOWbnueahGpzb27mlbDmja4qLwoKLypzdWNjZXNzLnN0YXR1c+aYr2h0dHDnmoRzdGF0dXPvvIxzdWNjZXNzLmRhdGEuc3RhdHVz5piv6Ieq5a6a5LmJ55qEUmVzcEJlYW7kuK3nmoRzdGF0dXMqLwoKYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAoc3VjY2VzcykgewogIGlmIChzdWNjZXNzLnN0YXR1cyAmJiBzdWNjZXNzLnN0YXR1cyA9PSAyMDAgJiYgc3VjY2Vzcy5kYXRhLnN0YXR1cyA9PSA1MDApIHsKICAgIC8q6KGo56S65bCGUmVzcEJlYW7kuK3nmoRtc2fmmL7npLrlh7rmnaUqLwogICAgTWVzc2FnZS5lcnJvcih7CiAgICAgIG1lc3NhZ2U6IHN1Y2Nlc3MuZGF0YS5tc2cKICAgIH0pOwogICAgcmV0dXJuOwogIH0KCiAgaWYgKHN1Y2Nlc3MuZGF0YS5tc2cpIHsKICAgIE1lc3NhZ2Uuc3VjY2Vzcyh7CiAgICAgIG1lc3NhZ2U6IHN1Y2Nlc3MuZGF0YS5tc2cKICAgIH0pOwogIH0KCiAgcmV0dXJuIHN1Y2Nlc3MuZGF0YTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PSA1MDQgfHwgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDQwNCkgewogICAgTWVzc2FnZS5lcnJvcih7CiAgICAgIG1lc3NhZ2U6ICfmnI3liqHlmajooqvlkIPkuoYoIOKVr+KWoeKVsCApJwogICAgfSk7CiAgfSBlbHNlIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT0gNDAzKSB7CiAgICBNZXNzYWdlLmVycm9yKHsKICAgICAgbWVzc2FnZTogJ+adg+mZkOS4jei2s++8jOivt+iBlOezu+euoeeQhuWRmCcKICAgIH0pOwogIH0gZWxzZSBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09IDQwMSkgewogICAgLypteW1lc3NhZ2UuZXJyb3Ioe21lc3NhZ2U6IGVycm9yLnJlc3BvbnNlLmRhdGEubXNnID8gZXJyb3IucmVzcG9uc2UuZGF0YS5tc2cgOiAn5bCa5pyq55m75b2V77yM6K+355m75b2VJ30pDQogICAgcm91dGVyLnJlcGxhY2UoJy8nKTsqLwogICAgTWVzc2FnZS5lcnJvcih7CiAgICAgIG1lc3NhZ2U6IGVycm9yLnJlc3BvbnNlLmRhdGEubXNnCiAgICB9KTsKICB9IGVsc2UgewogICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEubXNnKSB7CiAgICAgIE1lc3NhZ2UuZXJyb3IoewogICAgICAgIG1lc3NhZ2U6IGVycm9yLnJlc3BvbnNlLmRhdGEubXNnCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgTWVzc2FnZS5lcnJvcih7CiAgICAgICAgbWVzc2FnZTogJ+acquefpemUmeivryEnCiAgICAgIH0pOwogICAgfQogIH0KCiAgcmV0dXJuOwp9KTsgLy/orr7nva7kuIDkuKrlhajlsYDnmoTlj5jph4/mlrnkvr/kv67mlLkKCnZhciBiYXNlID0gJyc7IC8vcG9zdOivt+axgu+8jOeZu+W9leivt+axguS9v+eUqGtleSB2YWx1ZeS8oOWPgu+8jHVybOivt+axguWcsOWdgO+8jHBhcmFtc+ivt+axgueahOWPguaVsAovL+WumuS5ieWujHBvc3Tor7fmsYLkuYvlkI7vvIzlsLHlj6/ku6XlnKhMb2dpbi52dWXkuK3kvb/nlKjvvIzlr7zlhaUKLy/nmbvlvZXmmK/lj6rmlK/mjIFrZXksdmFsdWXkvKDlj4LvvIzkuI3og73nlKhqc29u5Lyg77yMc3ByaW5nIHNlY3VyaXR56buY6K6k5LiN5pSv5oyBanNvbuS8oOWPggoKZXhwb3J0IHZhciBwb3N0S2V5VmFsdWVSZXF1ZXN0ID0gZnVuY3Rpb24gcG9zdEtleVZhbHVlUmVxdWVzdCh1cmwsIHBhcmFtcykgewogIHJldHVybiBheGlvcyh7CiAgICBtZXRob2Q6ICdwb3N0JywKICAgIHVybDogIiIuY29uY2F0KGJhc2UpLmNvbmNhdCh1cmwpLAogICAgZGF0YTogcGFyYW1zLAogICAgLy/miopwYXJhbXPkvKDliLDkuIvpnaLnmoR0cmFuc2Zvcm1SZXF1ZXN05Lit77yM5Y+Y5oiQcmV0PXVzZXJuYW1lPWphdmFib3kmcGFzc3dvcmQ9MTIzCiAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgdmFyIHJldCA9ICcnOwoKICAgICAgZm9yICh2YXIgaSBpbiBkYXRhKSB7CiAgICAgICAgcmV0ICs9IGVuY29kZVVSSUNvbXBvbmVudChpKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChkYXRhW2ldKSArICcmJzsKICAgICAgfQoKICAgICAgcmV0dXJuIHJldDsKICAgIH1dLAogICAgaGVhZGVyczogewogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKICAgIH0KICB9KTsKfTsgLy/ov5nkuKpwb3N05piv5Lyg6YCSanNvbueahHBvc3QKCmV4cG9ydCB2YXIgcG9zdFJlcXVlc3QgPSBmdW5jdGlvbiBwb3N0UmVxdWVzdCh1cmwsIHBhcmFtcykgewogIHJldHVybiBheGlvcyh7CiAgICBtZXRob2Q6ICdwb3N0JywKICAgIHVybDogIiIuY29uY2F0KGJhc2UpLmNvbmNhdCh1cmwpLAogICAgZGF0YTogcGFyYW1zCiAgfSk7Cn07CmV4cG9ydCB2YXIgcHV0UmVxdWVzdCA9IGZ1bmN0aW9uIHB1dFJlcXVlc3QodXJsLCBwYXJhbXMpIHsKICByZXR1cm4gYXhpb3MoewogICAgbWV0aG9kOiAncHV0JywKICAgIHVybDogIiIuY29uY2F0KGJhc2UpLmNvbmNhdCh1cmwpLAogICAgZGF0YTogcGFyYW1zCiAgfSk7Cn07CmV4cG9ydCB2YXIgZ2V0UmVxdWVzdCA9IGZ1bmN0aW9uIGdldFJlcXVlc3QodXJsLCBwYXJhbXMpIHsKICByZXR1cm4gYXhpb3MoewogICAgbWV0aG9kOiAnZ2V0JywKICAgIHVybDogIiIuY29uY2F0KGJhc2UpLmNvbmNhdCh1cmwpLAogICAgcGFyYW1zOiBwYXJhbXMKICB9KTsKfTsKZXhwb3J0IHZhciBkZWxldGVSZXF1ZXN0ID0gZnVuY3Rpb24gZGVsZXRlUmVxdWVzdCh1cmwsIHBhcmFtcykgewogIHJldHVybiBheGlvcyh7CiAgICBtZXRob2Q6ICdkZWxldGUnLAogICAgdXJsOiAiIi5jb25jYXQoYmFzZSkuY29uY2F0KHVybCksCiAgICBwYXJhbXM6IHBhcmFtcwogIH0pOwp9Ow=="},{"version":3,"sources":["D:/vuehr/src/utils/api.js"],"names":["axios","Message","router","interceptors","response","use","success","status","data","error","message","msg","base","postKeyValueRequest","url","params","method","transformRequest","ret","i","encodeURIComponent","headers","postRequest","putRequest","getRequest","deleteRequest"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\n/*单独引用element-ui中的Message（见element-ui官网，及其用法）*/\r\nimport { Message } from 'element-ui';\r\nimport router from '../router'\r\n\r\n//axios中的响应拦截器，success和error是服务端响应的数据\r\n/*success不是服务端返回的数据，success.data才是服务端返回的json数据*/\r\n/*success.status是http的status，success.data.status是自定义的RespBean中的status*/\r\naxios.interceptors.response.use(success=>{\r\n    if(success.status && success.status==200 && success.data.status==500){\r\n        /*表示将RespBean中的msg显示出来*/\r\n        Message.error({message:success.data.msg})\r\n        return;\r\n    }\r\n    if(success.data.msg){\r\n        Message.success({message:success.data.msg})\r\n    }\r\n    return success.data;\r\n}, error => {\r\n    if (error.response.status == 504 || error.response.status == 404) {\r\n        Message.error({message: '服务器被吃了( ╯□╰ )'})\r\n    } else if (error.response.status == 403) {\r\n        Message.error({message: '权限不足，请联系管理员'})\r\n    } else if (error.response.status == 401) {\r\n        /*mymessage.error({message: error.response.data.msg ? error.response.data.msg : '尚未登录，请登录'})\r\n        router.replace('/');*/\r\n        Message.error({message:error.response.data.msg});\r\n    } else {\r\n        if (error.response.data.msg) {\r\n            Message.error({message: error.response.data.msg})\r\n        } else {\r\n            Message.error({message: '未知错误!'})\r\n        }\r\n    }\r\n    return;\r\n})\r\n//设置一个全局的变量方便修改\r\nlet base = '';\r\n\r\n//post请求，登录请求使用key value传参，url请求地址，params请求的参数\r\n//定义完post请求之后，就可以在Login.vue中使用，导入\r\n//登录是只支持key,value传参，不能用json传，spring security默认不支持json传参\r\nexport const postKeyValueRequest = (url, params) => {\r\n    return axios({\r\n        method: 'post',\r\n        url: `${base}${url}`,\r\n        data: params,\r\n        //把params传到下面的transformRequest中，变成ret=username=javaboy&password=123\r\n        transformRequest: [function (data) {\r\n            let ret = '';\r\n            for (let i in data) {\r\n                ret += encodeURIComponent(i) + '=' + encodeURIComponent(data[i]) + '&'\r\n            }\r\n            return ret;\r\n        }],\r\n        headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n        }\r\n    });\r\n}\r\n//这个post是传递json的post\r\nexport const postRequest = (url, params) => {\r\n    return axios({\r\n        method: 'post',\r\n        url: `${base}${url}`,\r\n        data: params\r\n    })\r\n}\r\nexport const putRequest = (url, params) => {\r\n    return axios({\r\n        method: 'put',\r\n        url: `${base}${url}`,\r\n        data: params\r\n    })\r\n}\r\nexport const getRequest = (url, params) => {\r\n    return axios({\r\n        method: 'get',\r\n        url: `${base}${url}`,\r\n        params: params\r\n    })\r\n}\r\nexport const deleteRequest = (url, params) => {\r\n    return axios({\r\n        method: 'delete',\r\n        url: `${base}${url}`,\r\n        params: params\r\n    })\r\n}\r\n"]}]}