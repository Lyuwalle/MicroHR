{"remainingRequest":"/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/node_modules/babel-loader/lib/index.js!/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/src/components/sys/basic/JobLevelMana.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/src/components/sys/basic/JobLevelMana.vue","mtime":1625467519759},{"path":"/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyuxiyang/Documents/gitProject/microhr/vuehr/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkpvYkxldmVsTWFuYSIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlTGV2ZWxzOiBbJ+ato+mrmOe6pycsICflia/pq5jnuqcnLCAn5Lit57qnJywgJ+WInee6pycsICflkZjnuqcnXSwKICAgICAgamw6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICB0aXRsZUxldmVsOiAnJwogICAgICB9LAogICAgICB1cGRhdGVKbDogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHRpdGxlTGV2ZWw6ICcnLAogICAgICAgIGVuYWJsZWQ6IGZhbHNlCiAgICAgIH0sCiAgICAgIG11bHRpcGxlU2VsZWN0aW9uOiBbXSwKICAgICAgamxzOiBbXSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0SmxzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBkb1VwZGF0ZTogZnVuY3Rpb24gZG9VcGRhdGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnB1dFJlcXVlc3QoIi9zeXN0ZW0vYmFzaWMvam9ibGV2ZWwvIiwgdGhpcy51cGRhdGVKbCkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICBfdGhpcy5pbml0SmxzKCk7CgogICAgICAgICAgX3RoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlTWFueTogZnVuY3Rpb24gZGVsZXRlTWFueSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTjgJAnICsgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5sZW5ndGggKyAn44CR5p2h6K6w5b2VLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBpZHMgPSAnPyc7CgogICAgICAgIF90aGlzMi5tdWx0aXBsZVNlbGVjdGlvbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZHMgKz0gJ2lkcz0nICsgaXRlbS5pZCArICcmJzsKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMyLmRlbGV0ZVJlcXVlc3QoIi9zeXN0ZW0vYmFzaWMvam9ibGV2ZWwvIiArIGlkcykudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgaWYgKHJlc3ApIHsKICAgICAgICAgICAgX3RoaXMyLmluaXRKbHMoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiA9IHZhbDsKICAgIH0sCiAgICBzaG93RWRpdFZpZXc6IGZ1bmN0aW9uIHNob3dFZGl0VmlldyhkYXRhKSB7CiAgICAgIE9iamVjdC5hc3NpZ24odGhpcy51cGRhdGVKbCwgZGF0YSk7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgZGVsZXRlSGFuZGxlcjogZnVuY3Rpb24gZGVsZXRlSGFuZGxlcihkYXRhKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF44CQJyArIGRhdGEubmFtZSArICfjgJHogYznp7AsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLmRlbGV0ZVJlcXVlc3QoIi9zeXN0ZW0vYmFzaWMvam9ibGV2ZWwvIiArIGRhdGEuaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICAgIF90aGlzMy5pbml0SmxzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaW5pdEpsczogZnVuY3Rpb24gaW5pdEpscygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLmdldFJlcXVlc3QoIi9zeXN0ZW0vYmFzaWMvam9ibGV2ZWwvIikudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGlmIChyZXNwKSB7CiAgICAgICAgICBfdGhpczQuamxzID0gcmVzcDsKICAgICAgICAgIF90aGlzNC5qbCA9IHsKICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgIHRpdGxlTGV2ZWw6ICcnCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYWRkSm9iTGV2ZWw6IGZ1bmN0aW9uIGFkZEpvYkxldmVsKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmpsLm5hbWUgJiYgdGhpcy5qbC50aXRsZUxldmVsKSB7CiAgICAgICAgdGhpcy5wb3N0UmVxdWVzdCgiL3N5c3RlbS9iYXNpYy9qb2JsZXZlbC8iLCB0aGlzLmpsKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICBpZiAocmVzcCkgewogICAgICAgICAgICBfdGhpczUuaW5pdEpscygpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIua3u+WKoOWtl+auteS4jeWPr+S7peS4uuepuiEiKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["JobLevelMana.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div>\n  <div>\n    <el-input size=\"small\" v-model=\"jl.name\" style=\"width: 300px;\" prefix-icon=\"el-icon-plus\"\n              placeholder=\"添加职称...\"></el-input>\n    <el-select v-model=\"jl.titleLevel\" placeholder=\"职称等级\" size=\"small\"\n               style=\"margin-left: 5px;margin-right: 5px\">\n      <el-option\n          v-for=\"item in titleLevels\"\n          :key=\"item\"\n          :label=\"item\"\n          :value=\"item\">\n      </el-option>\n    </el-select>\n    <el-button icon=\"el-icon-plus\" type=\"primary\" size=\"small\" @click=\"addJobLevel\">添加</el-button>\n  </div >\n\n  <div style=\"margin-top: 10px\">\n    <el-table\n        :data=\"jls\"\n        border\n        size=\"small\"\n        @selection-change=\"handleSelectionChange\"\n        style=\"width: 80%\">\n      <el-table-column\n          type=\"selection\"\n          width=\"55\">\n      </el-table-column>\n      <el-table-column\n          prop=\"id\"\n          label=\"编号\"\n          width=\"55\">\n      </el-table-column>\n      <el-table-column\n          prop=\"name\"\n          label=\"职称名称\"\n          width=\"150\">\n      </el-table-column>\n      <el-table-column\n          prop=\"titleLevel\"\n          label=\"职称级别\">\n      </el-table-column>\n      <el-table-column\n          prop=\"createDate\"\n          label=\"创建时间\">\n      </el-table-column>\n      <el-table-column\n          label=\"是否启用\">\n        <template slot-scope=\"scope\">\n          <el-tag type=\"success\" v-if=\"scope.row.enabled\">已启用</el-tag>\n          <el-tag type=\"danger\" v-else>未启用</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column\n          label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"small\" @click=\"showEditView(scope.row)\">编辑</el-button>\n          <el-button size=\"small\" type=\"danger\" @click=\"deleteHandler(scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-button type=\"danger\" size=\"small\" style=\"margin-top: 10px\" :disabled=\"multipleSelection.length==0\"\n               @click=\"deleteMany\">批量删除\n    </el-button>\n  </div>\n  <el-dialog\n      title=\"修改职称\"\n      :visible.sync=\"dialogVisible\"\n      width=\"30%\">\n    <div>\n      <table>\n        <tr>\n          <td>\n            <el-tag>职称名</el-tag>\n          </td>\n          <td>\n            <el-input size=\"small\" v-model=\"updateJl.name\"></el-input>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <el-tag>职称级别</el-tag>\n          </td>\n          <td>\n            <el-select v-model=\"updateJl.titleLevel\" placeholder=\"职称等级\" size=\"small\"\n                       style=\"margin-left: 5px;margin-right: 5px\">\n              <el-option\n                  v-for=\"item in titleLevels\"\n                  :key=\"item\"\n                  :label=\"item\"\n                  :value=\"item\">\n              </el-option>\n            </el-select>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <el-tag>是否启用</el-tag>\n          </td>\n          <td>\n            <el-switch\n                v-model=\"updateJl.enabled\"\n                active-text=\"启用\"\n                inactive-text=\"禁用\">\n            </el-switch>\n          </td>\n        </tr>\n      </table>\n    </div>\n    <span slot=\"footer\" class=\"dialog-footer\">\n    <el-button size=\"small\" @click=\"dialogVisible = false\">取 消</el-button>\n    <el-button size=\"small\" type=\"primary\" @click=\"doUpdate\">确 定</el-button>\n    </span>\n  </el-dialog>\n</div>\n</template>\n\n<script>\nexport default {\n  name: \"JobLevelMana\",\n  data(){\n    return{\n      titleLevels: [\n        '正高级',\n        '副高级',\n        '中级',\n        '初级',\n        '员级',\n      ],\n      jl: {\n        name: '',\n        titleLevel: ''\n      },\n      updateJl: {\n        name: '',\n        titleLevel: '',\n        enabled: false\n      },\n      multipleSelection:[],\n      jls: [],\n      dialogVisible: false,\n    }\n  },\n  mounted() {\n    this.initJls();\n  },\n  methods:{\n    doUpdate() {\n      this.putRequest(\"/system/basic/joblevel/\", this.updateJl).then(resp => {\n        if (resp) {\n          this.initJls();\n          this.dialogVisible = false;\n        }\n      })\n    },\n    deleteMany(){\n      this.$confirm('此操作将永久删除【' + this.multipleSelection.length + '】条记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        let ids = '?';\n        this.multipleSelection.forEach(item => {\n          ids += 'ids=' + item.id + '&';\n        })\n        this.deleteRequest(\"/system/basic/joblevel/\" + ids).then(resp => {\n          if (resp) {\n            this.initJls();\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    handleSelectionChange(val){\n      this.multipleSelection = val;\n    },\n    showEditView(data) {\n      Object.assign(this.updateJl, data);\n      this.dialogVisible = true;\n    },\n    deleteHandler(data) {\n      this.$confirm('此操作将永久【' + data.name + '】职称, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.deleteRequest(\"/system/basic/joblevel/\" + data.id).then(resp => {\n          if (resp) {\n            this.initJls();\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    initJls(){\n      this.getRequest(\"/system/basic/joblevel/\").then(resp => {\n        if (resp) {\n          this.jls = resp;\n          this.jl = {\n            name: '',\n            titleLevel: ''\n          };\n        }\n      })\n    },\n    addJobLevel(){\n      if (this.jl.name && this.jl.titleLevel) {\n        this.postRequest(\"/system/basic/joblevel/\", this.jl).then(resp => {\n          if (resp) {\n            this.initJls();\n          }\n        });\n      } else {\n        this.$message.error(\"添加字段不可以为空!\");\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components/sys/basic"}]}