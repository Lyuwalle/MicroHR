{"remainingRequest":"D:\\vuehr\\node_modules\\babel-loader\\lib\\index.js!D:\\vuehr\\src\\store\\index.js","dependencies":[{"path":"D:\\vuehr\\src\\store\\index.js","mtime":1608832076857},{"path":"D:\\vuehr\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vuehr\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Lyrov5nmmK/kuIDkuKp2dWV4Ki8KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnZWxlbWVudC11aSc7CmltcG9ydCB7IGdldFJlcXVlc3QgfSBmcm9tICIuLi91dGlscy9hcGkiOwppbXBvcnQgJy4uL3V0aWxzL3N0b21wJzsKaW1wb3J0ICcuLi91dGlscy9zb2NranMnOwpWdWUudXNlKFZ1ZXgpOwp2YXIgbm93ID0gbmV3IERhdGUoKTsKdmFyIHN0b3JlID0gbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICAvKuS7juacjeWKoeerr+WKoOi9veS4i+adpeeahOiPnOWNlemhuemDveaUvuWcqOi/meS4qnJvdXRlc+aVsOe7hOmHjOmdoiovCiAgICByb3V0ZXM6IFtdLAogICAgc2Vzc2lvbnM6IFt7CiAgICAgIGlkOiAxLAogICAgICB1c2VyOiB7CiAgICAgICAgbmFtZTogJ+ekuuS+i+S7i+e7jScsCiAgICAgICAgaW1nOiAnaHR0cHM6Ly9zczEuYmRzdGF0aWMuY29tLzcwY0Z1WFNoX1ExWW54R2twb1dLMUhGNmhoeS9pdC91PTUzMjYyMzA0MCwxOTU1Nzk3ODY3JmZtPTExJmdwPTAuanBnJwogICAgICB9LAogICAgICBtZXNzYWdlczogW3sKICAgICAgICBjb250ZW50OiAnSGVsbG/vvIzov5nmmK/kuIDkuKrln7rkuo5WdWUgKyBWdWV4ICsgV2VicGFja+aehOW7uueahOeugOWNlWNoYXTnpLrkvovvvIzogYrlpKnorrDlvZXkv53lrZjlnKhsb2NhbFN0b3JnZSwg5pyJ5LuA5LmI6Zeu6aKY5Y+v5Lul6YCa6L+HR2l0aHViIElzc3Vl6Zeu5oiR44CCJywKICAgICAgICBkYXRlOiBub3cKICAgICAgfSwgewogICAgICAgIGNvbnRlbnQ6ICfpobnnm67lnLDlnYAo5Y6f5L2c6ICFKTogaHR0cHM6Ly9naXRodWIuY29tL2NvZmZjZXIvdnVlLWNoYXQnLAogICAgICAgIGRhdGU6IG5vdwogICAgICB9LCB7CiAgICAgICAgY29udGVudDogJ+acrOmhueebruWcsOWdgCjph43mnoQpOiBodHRwczovL2dpdGh1Yi5jb20vaXMtbGl5aXdlaScsCiAgICAgICAgZGF0ZTogbm93CiAgICAgIH1dCiAgICB9LCB7CiAgICAgIGlkOiAyLAogICAgICB1c2VyOiB7CiAgICAgICAgbmFtZTogJ3dlYnBhY2snLAogICAgICAgIGltZzogJ2h0dHBzOi8vc3MyLmJkc3RhdGljLmNvbS83MGNGdm5TaF9RMVlueEdrcG9XSzFIRjZoaHkvaXQvdT0yNzMyMTI1MTM1LDcxMzcxODkxJmZtPTI2JmdwPTAuanBnJwogICAgICB9LAogICAgICBtZXNzYWdlczogW3sKICAgICAgICBjb250ZW50OiAnSGnvvIzmiJHmmK93ZWJwYWNr5ZOmJywKICAgICAgICBkYXRlOiBub3cKICAgICAgfV0KICAgIH1dLAogICAgY3VycmVudFNlc3Npb25JZDogMSwKICAgIGZpbHRlcktleTogJycKICB9LAogIGdldHRlcnM6IHt9LAoKICAvKuabtOaUuSBWdWV4IOeahCBzdG9yZSDkuK3nmoTnirbmgIHnmoTllK/kuIDmlrnms5XmmK/mj5DkuqQgbXV0YXRpb24qLwogIG11dGF0aW9uczogewogICAgaW5pdFJvdXRlczogZnVuY3Rpb24gaW5pdFJvdXRlcyhzdGF0ZSwgZGF0YSkgewogICAgICBzdGF0ZS5yb3V0ZXMgPSBkYXRhOwogICAgfSwKICAgIGNoYW5nZUN1cnJlbnRTZXNzaW9uSWQ6IGZ1bmN0aW9uIGNoYW5nZUN1cnJlbnRTZXNzaW9uSWQoc3RhdGUsIGlkKSB7CiAgICAgIHN0YXRlLmN1cnJlbnRTZXNzaW9uSWQgPSBpZDsKICAgIH0sCiAgICBhZGRNZXNzYWdlOiBmdW5jdGlvbiBhZGRNZXNzYWdlKHN0YXRlLCBtc2cpIHsKICAgICAgc3RhdGUuc2Vzc2lvbnNbc3RhdGUuY3VycmVudFNlc3Npb25JZCAtIDFdLm1lc3NhZ2VzLnB1c2goewogICAgICAgIGNvbnRlbnQ6IG1zZywKICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLAogICAgICAgIHNlbGY6IHRydWUKICAgICAgfSk7CiAgICB9LAogICAgSU5JVF9EQVRBOiBmdW5jdGlvbiBJTklUX0RBVEEoc3RhdGUpIHsKICAgICAgdmFyIGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndnVlLWNoYXQtc2Vzc2lvbicpOyAvL2NvbnNvbGUubG9nKGRhdGEpCgogICAgICBpZiAoZGF0YSkgewogICAgICAgIHN0YXRlLnNlc3Npb25zID0gSlNPTi5wYXJzZShkYXRhKTsKICAgICAgfQogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgaW5pdERhdGE6IGZ1bmN0aW9uIGluaXREYXRhKGNvbnRleHQpIHsKICAgICAgY29udGV4dC5jb21taXQoJ0lOSVRfREFUQScpOwogICAgfQogIH0KfSk7CnN0b3JlLndhdGNoKGZ1bmN0aW9uIChzdGF0ZSkgewogIHJldHVybiBzdGF0ZS5zZXNzaW9uczsKfSwgZnVuY3Rpb24gKHZhbCkgewogIGNvbnNvbGUubG9nKCdDSEFOR0U6ICcsIHZhbCk7CiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Z1ZS1jaGF0LXNlc3Npb24nLCBKU09OLnN0cmluZ2lmeSh2YWwpKTsKfSwgewogIGRlZXA6IHRydWUKICAvKui/meS4quiyjOS8vOaYr+W8gOWQr3dhdGNo55uR5rWL55qE5Yik5patLOWumOaWueivtOaYjuS5n+avlOi+g+aooeeziiovCgp9KTsKZXhwb3J0IGRlZmF1bHQgc3RvcmU7"},{"version":3,"sources":["D:/vuehr/src/store/index.js"],"names":["Vue","Vuex","Notification","getRequest","use","now","Date","store","Store","state","routes","sessions","id","user","name","img","messages","content","date","currentSessionId","filterKey","getters","mutations","initRoutes","data","changeCurrentSessionId","addMessage","msg","push","self","INIT_DATA","localStorage","getItem","JSON","parse","actions","initData","context","commit","watch","val","console","log","setItem","stringify","deep"],"mappings":"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","sourcesContent":["/*这是一个vuex*/\r\nimport Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport { Notification } from 'element-ui';\r\nimport {getRequest} from \"../utils/api\";\r\nimport '../utils/stomp'\r\nimport '../utils/sockjs'\r\n\r\nVue.use(Vuex)\r\n\r\nconst now = new Date();\r\n\r\nconst store = new Vuex.Store({\r\n    state:{\r\n        /*从服务端加载下来的菜单项都放在这个routes数组里面*/\r\n        routes:[],\r\n        sessions:[{\r\n            id:1,\r\n            user:{\r\n                name:'示例介绍',\r\n                img:'https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=532623040,1955797867&fm=11&gp=0.jpg'\r\n            },\r\n            messages:[{\r\n                content:'Hello，这是一个基于Vue + Vuex + Webpack构建的简单chat示例，聊天记录保存在localStorge, 有什么问题可以通过Github Issue问我。',\r\n                date:now\r\n            },{\r\n                content:'项目地址(原作者): https://github.com/coffcer/vue-chat',\r\n                date:now\r\n            },{\r\n                content:'本项目地址(重构): https://github.com/is-liyiwei',\r\n                date:now\r\n            }]\r\n        },{\r\n            id:2,\r\n            user:{\r\n                name:'webpack',\r\n                img:'https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=2732125135,71371891&fm=26&gp=0.jpg'\r\n            },\r\n            messages:[{\r\n                content:'Hi，我是webpack哦',\r\n                date:now\r\n            }]\r\n        }],\r\n        currentSessionId:1,\r\n        filterKey:''\r\n    },\r\n    getters:{\r\n\r\n    },\r\n    /*更改 Vuex 的 store 中的状态的唯一方法是提交 mutation*/\r\n    mutations:{\r\n        initRoutes(state, data){\r\n            state.routes = data;\r\n        },\r\n        changeCurrentSessionId (state,id) {\r\n            state.currentSessionId = id;\r\n        },\r\n        addMessage (state,msg) {\r\n            state.sessions[state.currentSessionId-1].messages.push({\r\n                content:msg,\r\n                date: new Date(),\r\n                self:true\r\n            })\r\n        },\r\n        INIT_DATA (state) {\r\n            let data = localStorage.getItem('vue-chat-session');\r\n            //console.log(data)\r\n            if (data) {\r\n                state.sessions = JSON.parse(data);\r\n            }\r\n        }\r\n    },\r\n    actions:{\r\n        initData (context) {\r\n            context.commit('INIT_DATA')\r\n        }\r\n    }\r\n})\r\n\r\nstore.watch(function (state) {\r\n    return state.sessions\r\n},function (val) {\r\n    console.log('CHANGE: ', val);\r\n    localStorage.setItem('vue-chat-session', JSON.stringify(val));\r\n},{\r\n    deep:true/*这个貌似是开启watch监测的判断,官方说明也比较模糊*/\r\n})\r\n\r\nexport default store;"]}]}